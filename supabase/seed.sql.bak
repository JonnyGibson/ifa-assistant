-- Clear existing data
DELETE FROM client_notes;
DELETE FROM appointments;
DELETE FROM documents;
DELETE FROM clients;

-- Insert clients with unique email addresses
INSERT INTO clients (first_name, last_name, email, phone, address, date_of_birth, risk_profile, status)
VALUES 
    ('Robert', 'Thompson', 'robert.thompson@example.com', '+44 266 7086 1996', '{"street":"32 Church Street","city":"Liverpool","postcode":"L91 91II","country":"UK"}', '1959-05-20', 'low', 'inactive'),
    ('Richard', 'Jackson', 'richard.jackson@example.com', '+44 674 1472 5287', '{"street":"156 Market Street","city":"Liverpool","postcode":"L77 77OO","country":"UK"}', '1976-03-03', 'high', 'prospect'),
    ('William', 'Wilson', 'william.wilson@example.com', '+44 209 4444 6343', '{"street":"83 Victoria Road","city":"Glasgow","postcode":"G80 80YY","country":"UK"}', '1995-03-03', 'low', 'inactive'),
    ('William', 'Smith', 'william.smith@example.com', '+44 177 7119 5558', '{"street":"45 Main Street","city":"Belfast","postcode":"BT48 48NN","country":"UK"}', '1945-07-18', 'high', 'active'),
    ('Charles', 'Wood', 'charles.wood@example.com', '+44 142 2018 2041', '{"street":"55 Station Road","city":"Leeds","postcode":"LS45 45EE","country":"UK"}', '1957-05-14', 'high', 'prospect'),
    ('Thomas', 'Clarke', 'thomas.clarke@example.com', '+44 841 2019 7764', '{"street":"39 Main Street","city":"Birmingham","postcode":"B70 70BB","country":"UK"}', '1941-10-14', 'low', 'prospect'),
    ('John', 'Evans', 'john.evans@example.com', '+44 785 7610 7071', '{"street":"189 Queens Road","city":"Birmingham","postcode":"B15 15EE","country":"UK"}', '1970-04-06', 'high', 'active'),
    ('Robert', 'Thompson', 'robert.thompson2@example.com', '+44 496 7930 9675', '{"street":"14 Victoria Road","city":"Birmingham","postcode":"B97 97VV","country":"UK"}', '1942-03-29', 'medium', 'active'),
    ('William', 'Wood', 'william.wood@example.com', '+44 559 3170 6280', '{"street":"55 School Lane","city":"Edinburgh","postcode":"EH78 78VV","country":"UK"}', '1955-02-24', 'low', 'inactive'),
    ('Thomas', 'Hall', 'thomas.hall@example.com', '+44 483 1210 8369', '{"street":"66 Church Street","city":"Cardiff","postcode":"CF4 4AA","country":"UK"}', '1993-10-29', 'medium', 'inactive'),
    ('Joseph', 'White', 'joseph.white@example.com', '+44 212 1222 1843', '{"street":"84 Main Street","city":"Manchester","postcode":"M40 40BB","country":"UK"}', '1953-02-09', 'high', 'active'),
    ('Elizabeth', 'Smith', 'elizabeth.smith@example.com', '+44 237 5194 3545', '{"street":"74 Market Street","city":"Glasgow","postcode":"G29 29ZZ","country":"UK"}', '1997-03-06', 'high', 'inactive'),
    ('Sarah', 'Smith', 'sarah.smith@example.com', '+44 233 8699 4204', '{"street":"101 The Avenue","city":"Liverpool","postcode":"L3 3QQ","country":"UK"}', '1950-10-16', 'high', 'active'),
    ('John', 'Thompson', 'john.thompson@example.com', '+44 644 8812 9876', '{"street":"33 Church Road","city":"Birmingham","postcode":"B47 47WW","country":"UK"}', '1992-06-25', 'high', 'prospect'),
    ('Patricia', 'Wood', 'patricia.wood@example.com', '+44 672 2790 7223', '{"street":"18 New Road","city":"London","postcode":"SW90 90RR","country":"UK"}', '1946-07-22', 'high', 'inactive'),
    ('Charles', 'Robinson', 'charles.robinson@example.com', '+44 564 2452 3783', '{"street":"180 Church Road","city":"Cardiff","postcode":"CF91 91FF","country":"UK"}', '1989-06-27', 'medium', 'prospect'),
    ('Mary', 'Williams', 'mary.williams@example.com', '+44 965 8015 5418', '{"street":"180 School Lane","city":"Bristol","postcode":"BS70 70FF","country":"UK"}', '1972-09-30', 'low', 'inactive'),
    ('David', 'Johnson', 'david.johnson@example.com', '+44 332 7077 8938', '{"street":"18 New Road","city":"Edinburgh","postcode":"EH45 45II","country":"UK"}', '1954-07-11', 'high', 'inactive'),
    ('Barbara', 'Wright', 'barbara.wright@example.com', '+44 718 4086 5720', '{"street":"144 Mill Lane","city":"Birmingham","postcode":"B27 27FF","country":"UK"}', '1958-06-24', 'low', 'active'),
    ('Karen', 'Johnson', 'karen.johnson@example.com', '+44 356 6568 6412', '{"street":"142 The Crescent","city":"Bristol","postcode":"BS93 93PP","country":"UK"}', '1948-06-07', 'high', 'active'),
    ('Michael', 'Brown', 'michael.brown@example.com', '+44 525 4447 2438', '{"street":"143 Main Street","city":"Liverpool","postcode":"L76 76MM","country":"UK"}', '1982-05-08', 'high', 'inactive'),
    ('John', 'Wilson', 'john.wilson@example.com', '+44 221 5661 2795', '{"street":"74 New Road","city":"Cardiff","postcode":"CF9 9QQ","country":"UK"}', '1941-12-22', 'low', 'inactive'),
    ('Michael', 'Davies', 'michael.davies@example.com', '+44 675 9668 8025', '{"street":"175 Kings Road","city":"Belfast","postcode":"BT27 27ZZ","country":"UK"}', '1986-10-08', 'medium', 'active');

-- Insert sample client notes
INSERT INTO client_notes (client_id, title, content, note_type)
SELECT 
    id,
    CASE 
        WHEN first_name IN ('Robert', 'Elizabeth', 'James', 'Patricia', 'Margaret', 'John', 'Mary', 'William', 'Jennifer', 'David', 'Barbara', 'Richard', 'Susan', 'Joseph', 'Sarah', 'Charles', 'Karen', 'Thomas', 'Nancy', 'Christopher', 'Lisa', 'Daniel', 'Betty', 'Matthew', 'Dorothy', 'Anthony', 'Sandra', 'Mark', 'Donna', 'Steven', 'Carol', 'Paul', 'Rebecca', 'Kenneth', 'Sharon') THEN 
            CASE 
                WHEN note_number = 1 THEN 'Initial Consultation'
                WHEN note_number = 2 THEN 'Portfolio Review'
                WHEN note_number = 3 THEN 'Market Update'
                WHEN note_number = 4 THEN 'Strategy Review'
                WHEN note_number = 5 THEN 'Follow-up Call'
            END
        ELSE 
            CASE 
                WHEN note_number = 1 THEN 'Initial Consultation'
                WHEN note_number = 2 THEN 'Annual Review'
            END
    END,
    CASE 
        WHEN first_name IN ('Robert', 'Elizabeth', 'James', 'Patricia', 'Margaret', 'John', 'Mary', 'William', 'Jennifer', 'David', 'Barbara', 'Richard', 'Susan', 'Joseph', 'Sarah', 'Charles', 'Karen', 'Thomas', 'Nancy', 'Christopher', 'Lisa', 'Daniel', 'Betty', 'Matthew', 'Dorothy', 'Anthony', 'Sandra', 'Mark', 'Donna', 'Steven', 'Carol', 'Paul', 'Rebecca', 'Kenneth', 'Sharon') THEN 
            CASE 
                WHEN note_number = 1 THEN 'Initial consultation completed. Discussed investment objectives and risk tolerance. Scheduled follow-up review.'
                WHEN note_number = 2 THEN 'Regular portfolio review. Discussed performance and rebalancing needs. Client expressed satisfaction with current strategy.'
                WHEN note_number = 3 THEN 'Market update provided. Discussed recent volatility and its impact on portfolio. Reassured client about long-term strategy.'
                WHEN note_number = 4 THEN 'Strategy review completed. Discussed potential adjustments based on changing market conditions and client objectives.'
                WHEN note_number = 5 THEN 'Follow-up call to address client questions about recent market movements. Provided additional context and reassurance.'
            END
        ELSE 
            CASE 
                WHEN note_number = 1 THEN 'Initial consultation completed. Basic investment strategy discussed.'
                WHEN note_number = 2 THEN 'Annual review completed. Portfolio performance discussed.'
            END
    END,
    CASE 
        WHEN first_name IN ('Robert', 'Elizabeth', 'James', 'Patricia', 'Margaret', 'John', 'Mary', 'William', 'Jennifer', 'David', 'Barbara', 'Richard', 'Susan', 'Joseph', 'Sarah', 'Charles', 'Karen', 'Thomas', 'Nancy', 'Christopher', 'Lisa', 'Daniel', 'Betty', 'Matthew', 'Dorothy', 'Anthony', 'Sandra', 'Mark', 'Donna', 'Steven', 'Carol', 'Paul', 'Rebecca', 'Kenneth', 'Sharon') THEN 
            CASE 
                WHEN note_number = 1 THEN 'meeting'
                WHEN note_number = 2 THEN 'review'
                WHEN note_number = 3 THEN 'email'
                WHEN note_number = 4 THEN 'review'
                WHEN note_number = 5 THEN 'call'
            END
        ELSE 
            CASE 
                WHEN note_number = 1 THEN 'meeting'
                WHEN note_number = 2 THEN 'review'
            END
    END
FROM clients
CROSS JOIN generate_series(1, 
    CASE 
        WHEN first_name IN ('Robert', 'Elizabeth', 'James', 'Patricia', 'Margaret', 'John', 'Mary', 'William', 'Jennifer', 'David', 'Barbara', 'Richard', 'Susan', 'Joseph', 'Sarah', 'Charles', 'Karen', 'Thomas', 'Nancy', 'Christopher', 'Lisa', 'Daniel', 'Betty', 'Matthew', 'Dorothy', 'Anthony', 'Sandra', 'Mark', 'Donna', 'Steven', 'Carol', 'Paul', 'Rebecca', 'Kenneth', 'Sharon') THEN 5
        ELSE 2
    END
) AS note_number;
